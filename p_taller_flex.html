<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Shiny fácil con flexdashboard</title>
    <meta charset="utf-8" />
    <meta name="author" content="Fernando Villalba Bergado" />
    <meta name="date" content="2019-11-22" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/default-fonts.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/fontawesome-all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="animate.min.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Shiny fácil con flexdashboard
## Cómo crear app web dinámicas con R
### Fernando Villalba Bergado
### <i class="fas  fa-rocket fa-spin "></i>
### 2019-11-22

---


layout: true
background-image: url(imag/Logo_enrdados_blanco.png)
background-position: 98% 1% 
background-size: 6%



---

class: inverse

# Empezamos

.pull-left[

![](imag/cartel_taller.png)

]

.pull-right[

&lt;iframe width="400" height="500" scrolling="yes" frameborder="no" src="https://enrdados.netlify.com/"&gt; &lt;/iframe&gt;

]

---
class: animated, fadeInRight

# Índice del taller

- ¿Qué es *flexdashboard*?

- Diseño de paneles <i class="fas  fa-arrow-alt-circle-right "></i> **Práctica**
 
- Iteractividad I  <i class="fas  fa-arrow-alt-circle-right "></i> **Práctica**

- Iteractividad II (*htmlWidgets*) <i class="fas  fa-arrow-alt-circle-right "></i> **Práctica** 

- Iteractividad III (*Shiny* ) <i class="fas  fa-arrow-alt-circle-right "></i> **Práctica **

- Diseño avanzado y publicación <i class="fas  fa-arrow-alt-circle-right "></i> **Práctica**


![](imag/firststep.jpg)

---

background-image: url(imag/fondo5.jpg)
background-size: cover

#¿qué es *flexdashboard*?

[flexdashboard](https://rmarkdown.rstudio.com/flexdashboard/) es una extensión de *Rmarkdown* desarrollada por RSTUDIO para facilitar la creación de paneles (*applicaciones web*).


- &lt;https://rmarkdown.rstudio.com/flexdashboard/&gt;

![dashboard-cartoon](flexdashboard-talk-master/dashboard-cartoon.jpg)

Los paneles permiten comunicar grandes cantidaes de informacion visual rápidamente. Son herramientas esenciales en la toma de decisiones empresariales

existen otras librerías para hacer tableros con shiny mas completas como shinydashboard
https://rstudio.github.io/shinydashboard/structure.html

---

# Ejemplos

![tablero de control web](imag/dashboard.jpg)

---
# Panel bolsa

![marketing](imag/bloomberg.jpg)

---

# Ejemplos de tableros

![marketing](imag/tablero2.jpg)

---

# Ejemplo reales de flexdashboard

## Estáticos (lado cliente)

- [informe de ventas](salesreport.html)
- [informe de cementerios nucleares](wastelands.html)

## Dinámicos (lado servidor)

- [Informe de diversidad de razas en USA](https://walkerke.shinyapps.io/neighborhood_diversity/)

- [contaminacion en el mundo PM2.5](air_polution.html)

---

# Ejemplo real - shiny -

Shiny es una librería para R que permite crear aplicaciones web interactivas. Una aplicación Shiny se compone de una interfaz de usuario ui que controla el diseño y la apariencia de la aplicación, y una función server() que contiene las instrucciones para construir los objetos que se muestran en la interfaz de usuario. Las aplicaciones Shiny permiten la interacción del usuario mediante una funcionalidad llamada reactividad.


```r
# https://paula-moraga.github.io/book-geospatial/sec-shiny.html
```

&lt;iframe src="flexdashboard-talk-master/wastelands.html" width="800" height="600"&gt;
&lt;/iframe&gt;
&lt;iframe src="https://walkerke.shinyapps.io/neighborhood_diversity/" width="800" height="600"&gt;
&lt;/iframe&gt;

---

class: inverse

# Crear una app 

 1. Diseño de la plantilla 
 2. Programación y relleno de cajas
 3. Reactividad
 3. Publicar


![cat](imag/ceiling-cat.jpg)

---

# Fichero de partida rmarkdown

```YAML
---
title: "Row Orientation" 
output: 
    flexdashboard::flex_dashboard: 
      orientation: rows
---
    
## Row

### Chart 1
   
## Row

### Chart 2
    
### Chart 3

```

---

# Encabezado YAML de flexdashboard

```YAML
---
title: "Mi primer tablero"
output:
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    logo: "imag/logoR.png"
    social: menu
    source_code: embed
    theme: united
   # css: bootswatch-3.3.5-4/flatly/bootstrap.css
runtime: shiny
---

```

---
class: animated, fadeInLeft

# Formato 

Cualquier tablero la crearemos a partir de 3 niveles básicos:

.pull-left[

1. **Páginas** 
```
#        `===`
```
2. **Columnas - filas**
```
##       `---` 
```
3. **Cajas** 
```
### 
```
4. Extras:
   + {.sidebar} (niveles 2 y 3)
   + {.tabset} (niveles 2 y 3)
   + {data-width=350} 
   + {data-height=}
]

.pull-right[

![cat](imag/nivelesflex.gif)

]
---


# Complementos

## Value boxes


```r
library(flexdashboard)
articles &lt;- 204
valueBox(articles, 
         icon = "fa-pencil", 
         caption = "Articles per Day")
```


![valuebox](flexdashboard-talk-master/valuebox.png)

Los iconos los puedes buscar aqui:

 - [Font Awesome](https://fortawesome.github.io/Font-Awesome/icons/)
 - [Ionicons](http://ionicons.com/)
 - [Bootstrap Glyphicons](https://getbootstrap.com/components/#glyphicons)


---

# gauge


```r
satisfaction &lt;- 86
gauge(satisfaction, min = 0, max = 100, symbol = '%', 
  label = "Satisfaction", gaugeSectors(
  success = c(80, 100), warning = c(40, 79), danger = c(0, 39)
))
```

![gauge](imag/gauge.png)


---


class: inverse, center, middle

# Interactividad simple

&lt;img src="imag/tablero2.jpg" width="600px" height="400px" style="display: block; margin: auto;" /&gt;

--

El mentoring es la <i class="fas  fa-key "></i> para abrir muchas <i class="fas  fa-door-open "></i>

---
class: animated, jackInTheBox

# Objetivos del programa

- Acelerar el proceso de desarrollo personal <i class="fas  fa-rocket "></i>
- Favorece la transmisión de valores y conocimiento <i class="fas  fa-people-carry "></i>
- Transmitir experiencia <i class="fas  fa-user-graduate "></i>
- Crea vínculos personales, profesionales y de colectivo.<i class="fas  fa-handshake "></i>
- Motiva, mejora la confianza y refuerza la iniciativa personal. <i class="fas  fa-award "></i>

&lt;img src="imag/civileng.jpg" width="500px" height="250px" style="display: block; margin: auto;" /&gt;
---
class: inverse, animated, fadeInLeft

# Objetivos del programa II

* <i class="fas  fa-user-friends "></i> Actuar sobre vuestras habilidades blandas  

* <i class="fas  fa-hand-holding-usd "></i> La carrera te aporta conocimientos técnicos, el mentoring otras habilidades complementarias

&lt;img src="imag/competencias_soft_competencias_hard_infografia.png" width="600px" height="400px" style="display: block; margin: auto;" /&gt;


---
class: inverse,animated, fadeInLeft

# ¿Quíenes intervienen?

.pull-left[

# Mentor

- Facilita el desarrollo del **pupilo**, a través del intercambio de sus propios recursos, conocimientos, valores, habilidades, perspectivas, actitudes y competencias.

- Le ofrece la oportunidad de desarrollar nuevas perspectivas, *hacerse preguntas*, conocer otras inquietudes y ampliar su visión  personal y profesional.


]

.pull-right[
# Pupilo

- El **pupilo** desarrollará habilidades y conocimientos que le ayudarán a alcanzar las metas que *él mismo defina*.

&lt;img src="imag/jodaLuke.jpg" width="500px" height="200px" /&gt;
]

---

# Habilidades requeridas
.pull-left[
# Mentor
- Escucha activa
- Construcción gradual de confianza
- Definición de objetivos y desarrollo de capacidades
- Dar soporte e inspiración
- Ser ejemplo

&lt;img src="imag/Karate-Kid.jpg" width="500px" height="200px" /&gt;

]
.pull-right[
# Pupilo
- Escucha activa
- Voluntad de aprendizaje
- Construcción gradual de confianza
- Definir objetivos
- **Proactividad**


&lt;img src="imag/leongato.jpg" width="200px" height="200px" style="display: block; margin: auto;" /&gt;

]
---
class: animated, jackInTheBox

# Recursos

* https://github.com/rstudio-education/shiny-wsds18/blob/master/04-dashboards/04-dashboards.pdf
* http://arm.rbind.io/slides/flexdashboard.html#1

* https://jenthompson.me/resources/
* https://rstudio-education.github.io/shiny-wsds18/
* https://github.com/jmcphers/flexdashboard-talk/blob/master/flexdashboards.Rmd
* https://github.com/rstudio-education/shiny-wsds18/blob/master/02-reactivity/02-reactivity.pdf

* https://github.com/rstudio-education/arm-workshop-rsc2019
* iconos en :https://fontawesome.com/icons?d=gallery&amp;q=gra&amp;m=free
* https://ionicons.com/
* http://www.htmlwidgets.org/

---

background-image: url(imag/fondo6.jpg)
background-size: cover

# diferencias entre Shiny vs Flexdashboard

.pull-left[

## shiny
 
- Codigo especifico UI
- no muy fácil
- dinámico
- Bootstrap

]

.pull-right[

##Flexdashboard

- Rmarkdown
-super facil
- dinámico o estático
- CSS
]

---

# Publicar la app

Después de crear la app con shiny se puede alojar en &lt;ShinyApps.io&gt; es la opción más sencilla. La cuenta gratuita da derecho a 5 app en el servidor.

Otras opciones son RSTUDIO connect, o crearse un servidor Shiny propio en el que publicar, pr ejemplo en mi blog teneis cómo hacerlo en AWS

### webs estáticas o con crosstalk

- mandar html
- RPubs
- Servidor propio

### webs Shiny
- shinyapp.io
- AWS
- RSTUDIOcloud
- Serividor propio


&lt;img src="imag/firststep.jpg" width="600px" height="150px" style="display: block; margin: auto;" /&gt;

---
class: inverse, center, middle,animated, jackInTheBox

# Si tienes talento, no lo uses para llegar más lejos, úsalo para llegar más acompañado

Muchas Gracias!!

<i class="fas  fa-paper-plane "></i>
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create();
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
