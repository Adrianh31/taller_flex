---
title: "app2"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    self_contained: true
runtime: shiny    
---

```{r setup, include=FALSE}
# este ejemplo crea una app para pronostico de valores
# cargo las librer√≠as
# https://www.youtube.com/watch?v=rV-hhKBRKbI&t=0s
library(flexdashboard)
library(prophet)
library(lubridate)
library(ggplot2)
library(quantmod)
library(BatchGetSymbols)

library(DT)
# descarga lso datos de las siguienets empresas
#dat_bolsa <- getSymbols(c("MSFT", "HPQ", "INTC"), from = "2014-01-01",  auto.assign=TRUE)

mis.valores <- c('MSFT','GOOGL','JPM','GE')

fecha.ini <- Sys.Date()-365
fecha.fin <- Sys.Date()
    
datosvalores<- BatchGetSymbols(tickers = mis.valores,
                             first.date = fecha.ini,
                             last.date = fecha.fin )
#str(dat_bolsa)
#dat_bolsa
#head(dat_bolsa$MSFT)
#class(dat_bolsa)

datos<-datosvalores$df.tickers
str(datosvalores)
```


## lateral {.sidebar }

```{r}

selectInput('valor', 'Selecciona un valor', unique(datosvalores$df.control$ticker) ,multiple=F)

```

# Datos

### tabla de datos

```{r}
# pinta la tabla

DT::renderDataTable({
  data <- datos[datos$ticker==input$valor,  ]
  DT::datatable(data, options = list(
    bPaginate = TRUE
  ))
})

```

# Grafico

## Graficos de pronostico

```{r}

```
